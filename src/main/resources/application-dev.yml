server:
    port: 8080

spring:
    datasource:
        url: ${DB_URL:jdbc:postgresql://localhost:5432/itdaing}
        username: ${DB_USERNAME:itdaing}
        password: ${DB_PASSWORD:password}
        driver-class-name: org.postgresql.Driver
    jpa:
        open-in-view: false
        hibernate:
            ddl-auto: validate
        properties:
            hibernate:
                dialect: org.hibernate.dialect.PostgreSQLDialect
                format_sql: false
                default_batch_fetch_size: 100
                jdbc:
                    time_zone: Asia/Seoul
    flyway:
        enabled: true
        baseline-on-migrate: true
        locations: classpath:db/migration

# AWS 설정 (실제 AWS 또는 LocalStack)
aws:
    endpoint-url: ${AWS_ENDPOINT_URL:}  # LocalStack 사용 시: http://localhost:4566
    region: ${AWS_REGION:ap-northeast-2}
    access-key-id: ${AWS_ACCESS_KEY_ID:}
    secret-access-key: ${AWS_SECRET_ACCESS_KEY:}

# Storage 설정
storage:
    provider: ${STORAGE_PROVIDER:s3}  # dev 환경은 기본적으로 S3 사용
    s3:
        bucket: ${S3_BUCKET_NAME:itdaing-dev}
        region: ${AWS_REGION:ap-northeast-2}
        base-dir: ${STORAGE_S3_BASE_DIR:uploads}
        public-base-url: ${STORAGE_S3_PUBLIC_BASE_URL:}  # CloudFront 도메인 등

logging:
    level:
        org.hibernate.SQL: info
        software.amazon.awssdk: info

jwt:
    secret: ${JWT_SECRET:dev-jwt-secret-key-should-be-32-bytes-long!}
    issuer: ${JWT_ISSUER:itdaing-dev}
    access-token-expiration: ${JWT_ACCESS_TOKEN_EXPIRATION:900000}
    refresh-token-expiration: ${JWT_REFRESH_TOKEN_EXPIRATION:1209600000}

